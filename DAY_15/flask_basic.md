# c9.io 를 이용한 flask 개발 맛보기
##### https://ide.c9.io/spreadmesh/my_first_python_app
- - -

### \# app.py
```
from flask import Flask, render_template

import requests
import json

app = Flask(__name__)  # __name__ == "__main__"


@app.route("/")
def home():
    # return "<h1>hello world</h1><p>This is home.</p>
    animals = ["dog", "cat", "bird", "iguana"]
    return render_template("home.html", animals=animals)

@app.route("/rooms/<room_id>")
def room(room_id):
    base_url = "https://api.zigbang.com/v1/items?detail=true&item_ids=" + room_id
    response = requests.get(base_url)
    zigbang_dict = json.loads(response.text)
    item = zigbang_dict["items"][0]

    try:
        item = item.get('item')
        image_url = item.get('images')[0].get("url")
        deposit = item.get("deposit")
        rent = item.get("rent")
        address = item.get("agent_address1")
    except:
        return "방 정보가 없습니다."

    return render_template(
        "room.html",
        image_url=image_url,
        deposit=deposit,
        rent=rent,
        address=address,
    )

@app.route("/users")
def users():
    with open("./db.csv", "r") as f:
        lines = f.readlines()
        result = [
            {
                "username": line.split(",")[0],
                "address": line.split(",")[1],
            }
            for line
            in lines
        ]

        # result 는 dict 의 list 입니다.
        return json.dumps({"users": result})

if __name__ == "__main__":
    app.run(host="0.0.0.0", port="8080")
```

console에서 python3 app.py로 실행하면 웹서버가 실행 됨

### \# home.html
```
<h1>This is</h1>
<p>my homepage</p>

<ui>
    {% for animal in animals %}
    <li>{{ animal }}</li>
    {% endfor %}
</ui>
```

### \# room.html
```
<h1>This is room detail.</h1>

<img src="{{ image_url }}" width=400 height= 300 >

<ul>
    <li>보증금 : {{ deposit }}</li>
    <li>월세 : {{ rent }}</li>
    <li>주소 : {{ address }}</li>
</ul>
```

### \# db.csv
```
석우려,전라북도 손연리시 여준양거리 590 (425-987)
소봉효람,세종특별자치시 향영시 만원욱로 525 610동 734호 (576-275)
종주한,경기도 지환통군   소경로 9303 155-860
호휘,대구광역시 곽영안마을 민하동 0005 (925-176)
남관,광주광역시 가빈군 솔동거리 272 1-1 (926-994)
허리,서울특별시 성가시   윤철환동 9 6-1 883-791
정위,서울특별시 뇌남태시 상근솔구 1 716동 995호 (604-370)
허원,충청남도 산재구 하현연거리 5430 1-5 (603-414)
양솔보,전라북도 편우균구   근산동 5848 391-276
즙세인,부산광역시 송송두군   건향거리 979 511-539
강수,경기도 선미광시 슬광철동 679 229-9 (436-028)
임종두,제주특별자치도 인효시   주태보로 7 821-771
순명후,서울특별시 천선영구   환관훈로 5502 753-2 949-464
저근,대전광역시 황우마을   하용로 658 822동 382호 105-952
함혜,제주특별자치도 허연찬시 화욱동 008 (055-000)
견범,부산광역시 동방범동군 광정아동 737 6-9 (090-496)
반재,광주광역시 자해덕구   경강동 2 743-315
편엽주,경상북도 란홍구   황한통군 0779 493-904
영진,경상남도 형향구   려리규구 6874 29-5 648-798
초련욱,충청남도 누엽지구 현세거리 1121 (836-631)
유혜,울산광역시 순재시   금하보마을 153 356-879
강련도,전라북도 예범군   한소지군 702 83-8 880-534
현수상,부산광역시 우위마을 유혜균마을 635 (495-368)
아균,경상남도 욱빈구 민구산동 8 54-5 (033-010)
만병,경상북도 근아시 송인구동 6047 904 (558-305)
미승승,강원도 양연명시 황남황동 837 (221-539)
필욱,대전광역시 이황련구   균후혜로 0740 102-106
낭구,전라남도 조태련구 명건별거리 1894 (280-666)
장웅,전라남도 증후상시   곽힘창동 0906 918-770
환익,충청북도 유경규군 기순통동 8261 74-7 (981-141)
편정,전라남도 명구구   안덕려거리 2143 726-187
남원남,충청북도 보희마을 방용권거리 8441 351 (001-564)
삼효,충청북도 우영군   익아훈마을 7 728 879-985
팽연,경상남도 나구혁시   구재병군 129 778-6 365-122
망절완대,충청남도 정휘비시   연종화거리 6 374-178
석의,경상남도 한미마을   신별아거리 9601 865-139
전열홍,부산광역시 위억군 경송가거리 0 8-2 (667-737)
빙광황,부산광역시 빈상구 단규홍동 2144 071동 102호 (615-382)
해태,경상북도 돈윤인군   건후하구 3627 121 431-170
진명후,경상북도 수화구   수현동 183 990-760
강전기,제주특별자치도 정순명마을   엽다황거리 0293 7-0 944-256
남궁성정,강원도 요철병구 사희준동 0973 (572-103)
팽경,제주특별자치도 보힘군 기송유거리 8 1-1 (017-514)
뇌온,충청남도 통병군   유억동 1002 803-994
염도욱,경기도 박련경시   효무종로 6 4-3 873-237
제하근,울산광역시 유민황마을   재현로 4 974동 629호 029-792
설준완,전라남도 하향시 종예재군 6 791 (958-657)
천건,인천광역시 용후군 금욱명마을 461 (304-293)
복협,대전광역시 소봉억근마을 희찬로 5 904동 595호 (368-083)
유상,부산광역시 금양마을 빈두리로 496 (817-405)
방힘,경상북도 도재마을   미통송로 4236 257-6 835-528
단세주,경상남도 전범동마을   엽찬온구 6083 55-7 208-577
채호,강원도 신예욱군   류소용거리 4364 021-692
미다위,전라북도 뇌황해마을 열재동 0220 0-8 (487-617)
심화,인천광역시 편건환군   산지동 9 15-7 372-048
계하,광주광역시 순종구 혜유거리 9678 317-7 (896-624)
구란송,경상북도 승선구 우가거리 8 (724-174)
차호남,인천광역시 무빈마을   서성우동 151 682-050
범광우,인천광역시 필람창마을 건려통거리 6610 (941-564)
순람,강원도 박창동구 차가창동 6758 815동 717호 (323-154)
남리,전라남도 예아은군 근세현거리 0506 166-6 (640-495)
권도,전라북도 세상구 남순동 2411 (749-178)
전재남,전라북도 강전세온마을   의휘거리 0 738-145
유희,전라남도 현남무마을   연명거리 3894 789-334
사공광,울산광역시 억철마을   명남거리 8745 448동 606호 199-394
위선관,전라남도 뇌병상마을 권힘보거리 2556 (217-749)
복정,충청북도 웅열마을   림순거리 2 769-252
배진,대전광역시 덕통군   세아로 864 701-851
아두승,부산광역시 홍환연시   완해거리 3 889 816-165
빙람기,경상남도 가영시   금상란거리 803 283-728
아무석,충청남도 망절희훈시 정휘금거리 0354 (350-934)
봉호익,경상북도 황경범마을   송수찬마을 7089 7-0 677-830
증선욱,경기도 전원건시 순위홍거리 4 362-1 (293-993)
묘병,강원도 온람구   웅대준구 2172 993-1 379-016
저선,강원도 단란찬군   송강소군 8831 970-077
이솔미,충청북도 림동마을   욱웅명동 3 765동 581호 854-458
애승,광주광역시 강전통지구   장솔태로 1681 604동 792호 758-035
예예덕,부산광역시 욱광군 원다소동 278 (475-211)
필위,서울특별시 추양희마을   훈명훈시 2787 54-1 854-329
황보기위,경상북도 김창위구   보권거리 8572 698-782
도원금,세종특별자치시 예원마을   순향도로 076 514동 328호 067-221
흥명,부산광역시 석세시   증병준로 3 382-191
전진,인천광역시 원화구 연남기로 9350 9-6 (190-820)
용통열,경상남도 한강마을   현효로 939 69-0 157-649
함보,제주특별자치도 강전선승군 준선로 6022 173-8 (208-826)
맹관,울산광역시 양범군 관창동 0 3-2 (132-413)
이화윤,대전광역시 누윤한구   광보순동 8 00-0 479-826
황비효,경상남도 빈미시   준효주동 3 556 012-467
우다범,서울특별시 솔슬시   한하로 3071 71-5 547-886
류통,강원도 함보향군   구욱보거리 6 938-110
윤한,제주특별자치도 다힘시   교혁려거리 596 240 593-693
미후억,부산광역시 훈혁구 두진로 4 2-1 (288-796)
진훈,제주특별자치도 인다권구 철권거리 8 114-9 (281-294)
정남,울산광역시 우위시 성재거리 2 41-6 (578-923)
준미림,전라북도 경효우구 마통호거리 025 86-9 (655-368)
길도원,충청남도 예건구   솔의위시 813 781-100
만훈,세종특별자치시 균상마을   두련별거리 7439 99-7 743-563
조미통,충청북도 후무인시   협경재로 5 831-646
옹란산,경상남도 나정화구   의재거리 4656 866-161
염림건,대구광역시 비보시   금영비동 098 618 924-402
```
